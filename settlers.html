<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Bungee+Outline&family=Nerko+One&display=swap" rel="stylesheet">
  <title>Fibbage</title>
  <style>
  .hex2 {
    z-index: -10;
    position: absolute;
    margin-left: -20px;
  }
  .hex2 .top {
    float: left;
    border-right: 180.5px solid rgb(191, 219, 254);
    border-top: 314.6px solid transparent;
    border-bottom: 314.6px solid transparent;
  }
  .hex2 .middle {
    float: left;
    width: 363px;
    height: 629.2px;
    background-color: rgb(191, 219, 254);
  }
  .hex2 .bottom {
    float: left;
    border-left: 180.5px solid rgb(191, 219, 254);
    border-top: 314.6px solid transparent;
    border-bottom: 314.6px solid transparent;
  }
.hex {
    float: left;
    margin-left: 10px;
    margin-bottom: -60px;
}
.hex .top {
    width: 0;
    border-bottom: 30px solid #6C6;
    border-left: 52px solid transparent;
    border-right: 52px solid transparent;
}
.hex .middle {
    width: 104px;
    height: 60px;
}
.hex .bottom {
    width: 0;
    border-left: 52px solid transparent;
    border-right: 52px solid transparent;
}
.hex-row {
    clear: left;
}
.hex-row.first {
    margin-left: 53px;
}
.hex-row.second {
    margin-left: -53px;
}
img.emoji {
   height: 1.5em;
   width: 1.5em;
   margin: 0 .05em 0 .1em;
   vertical-align: -0.1em;
}
  </style>
  <script src="https://twemoji.maxcdn.com/v/latest/twemoji.min.js" crossorigin="anonymous"></script>
</head>
<body class="bg-gray-300">
  <div class="flex w-full h-screen items-center justify-center">
    <div class="hex2"><div class="top"></div><div class="middle"></div><div class="bottom"></div></div>
    <div class="">
      <div class="hex-row first">
          <div class="hex"></div>
          <div class="hex"></div>
          <div class="hex"></div>
      </div>
        <div class="hex-row">
          <div class="hex"></div>
          <div class="hex"></div>
          <div class="hex"></div>
          <div class="hex"></div>
        </div>
        <div class="hex-row second">
          <div class="hex"></div>
          <div class="hex"></div>
          <div class="hex"></div>
          <div class="hex"></div>
          <div class="hex"></div>
        </div>
        <div class="hex-row">
          <div class="hex"></div>
          <div class="hex"></div>
          <div class="hex"></div>
          <div class="hex"></div>
        </div>
        <div class="hex-row first">
          <div class="hex"></div>
          <div class="hex"></div>
          <div class="hex"></div>
        </div>
    </div>
  </div>
  <script type="text/javascript">
  /*
  * Parse DOM for twemojis
  * use npm twemoji to convert from emoji to twemoij
  */

  let hexes = document.querySelectorAll('.hex')

  const allResources = [
    {
      icon: '⛰️',
      color: 'rgb(167, 139, 250)'
    },
    {
      icon: '⛰️',
      color: 'rgb(167, 139, 250)'
    },
    {
      icon: '⛰️',
      color: 'rgb(167, 139, 250)'
    },
    {
      icon: '🌳',
      color: 'rgb(4, 120, 87)'
    },
    {
      icon: '🌳',
      color: 'rgb(4, 120, 87)'
    },
    {
      icon: '🌳',
      color: 'rgb(4, 120, 87)'
    },
    {
      icon: '🌳',
      color: 'rgb(4, 120, 87)'
    },
    {
      icon: '🐑',
      color: 'rgb(52, 211, 153)'
    },
    {
      icon: '🐑',
      color: 'rgb(52, 211, 153)'
    },
    {
      icon: '🐑',
      color: 'rgb(52, 211, 153)'
    },
    {
      icon: '🐑',
      color: 'rgb(52, 211, 153)'
    },
    {
      icon: '🌾',
      color: 'rgb(252, 211, 77)'
    },
    {
      icon: '🌾',
      color: 'rgb(252, 211, 77)'
    },
    {
      icon: '🌾',
      color: 'rgb(252, 211, 77)'
    },
    {
      icon: '🌾',
      color: 'rgb(252, 211, 77)'
    },
    {
      icon: '🧱',
      color: 'rgb(248, 113, 113)'
    },
    {
      icon: '🧱',
      color: 'rgb(248, 113, 113)'
    },
    {
      icon: '🧱',
      color: 'rgb(248, 113, 113)'
    }
  ]

  const desert =     {
        icon: '🏜️',
        color: 'rgb(245, 158, 11)'
      }

  var numbers = [2, 3, 4, 5, 6, 8, 9, 10, 11, 12, 4, 5, 6, 8, 9, 10, 3, 11, ' ']
  let chosenResources = []

  function findRoll() {
    let length = numbers.length
    let roll = Math.floor(Math.random() * Math.floor(length))
    let answer = numbers[roll]
    numbers.splice(roll, 1)
    return answer
  }

  function findResource () {
    let length = allResources.length
    let resource = Math.floor(Math.random() * Math.floor(length))
    let answer = allResources[resource]
    allResources.splice(resource, 1)
    return answer
  }

  hexes.forEach((hex, index) => {
    let roll = findRoll()
    let resource
    if (roll === ' ') {
      resource = desert
    } else {
      resource = findResource()
    }
    hex.innerHTML = `
    <div class="absolute w-24 h-24">
                <span class="relative top-3 left-6">${resource.icon}</span>
                <span class="relative top-12 left-4">${resource.icon}</span>
                <span style="left: 35%;" class="z-10 absolute -mt-2 w-10 h-10 bg-gray-300 flex flex-col leading-none justify-center items-center rounded-full text-lg font-bold ${(roll == '6' || roll == '8') ? 'text-red-600' : ''}">
                  <span>${roll}</span>
                  <span>${(roll == '8' || roll == '6') ? '·····' : ''}</span>
                  <span>${(roll == '3' || roll == '11') ? '··' : ''}</span>
                  <span>${(roll == '10' || roll == '4') ? '···' : ''}</span>
                  <span>${(roll == '5' || roll == '9') ? '····' : ''}</span>
                  <span>${(roll == '12' || roll == '2') ? '·' : ''}</span>
                </span>
                <span class="relative top-5 left-16">${resource.icon}</span>
              </div><div class="top" style="border-bottom: 30px solid ${resource.color};"></div><div class="middle" style="background: ${resource.color};"></div><div style="border-top: 30px solid ${resource.color};" class="bottom"></div>
              `
  if (index === 6) {
    hex.innerHTML += `<div class="relative" style="top: -90px; left: 5px; transform: rotate(70deg)">
      <p class="z-20 relative" style="left: -45px; top: -90px; transform: rotate(-45deg)">⛵</p>
      <div class="bg-yellow-600 h-2 w-8 transform relative z-20" style="top: -64px; left: 10px; transform: rotate(200deg)"></div>
      <div class="bg-yellow-600 h-2 w-8 transform relative z-20" style="top: -45px; left: -30px; transform: rotate(80deg)"></div>
    </div>`
  }

  if (index === 11) {
    hex.innerHTML += `<div class="relative" style="top: -60px; left: -10px; transform: rotate(180deg)">
      <p class="z-20 relative" style="left: -45px; top: -90px; transform: rotate(-45deg)">⛵</p>
      <div class="bg-yellow-600 h-2 w-8 transform relative z-20" style="top: -64px; left: 10px; transform: rotate(200deg)"></div>
      <div class="bg-yellow-600 h-2 w-8 transform relative z-20" style="top: -45px; left: -30px; transform: rotate(80deg)"></div>
    </div>`
  }

  if (index === 2) {
    hex.innerHTML += `<div class="relative" style="top: -90px; left: 5px; transform: rotate(70deg)">
      <p class="z-20 relative" style="left: -45px; top: -90px; transform: rotate(-45deg)">🌾</p>
      <div class="bg-yellow-600 h-2 w-8 transform relative z-20" style="top: -64px; left: 10px; transform: rotate(200deg)"></div>
      <div class="bg-yellow-600 h-2 w-8 transform relative z-20" style="top: -45px; left: -30px; transform: rotate(80deg)"></div>
    </div>`
  }

  if (index === 0) {
    hex.innerHTML += `<div class="relative" style="top: -90px; left: 0px; transform: rotate(10deg)">
      <p class="z-20 relative" style="left: -45px; top: -90px; transform: rotate(-45deg)">🐑</p>
      <div class="bg-yellow-600 h-2 w-8 transform relative z-20" style="top: -64px; left: 10px; transform: rotate(200deg)"></div>
      <div class="bg-yellow-600 h-2 w-8 transform relative z-20" style="top: -45px; left: -30px; transform: rotate(80deg)"></div>
    </div>`
  }

  if (index === 18) {
    hex.innerHTML += `<div class="relative" style="top: -70px; left: 5px; transform: rotate(130deg)">
      <p class="z-20 relative" style="left: -45px; top: -90px; transform: rotate(-45deg)">🧱</p>
      <div class="bg-yellow-600 h-2 w-8 transform relative z-20" style="top: -64px; left: 10px; transform: rotate(200deg)"></div>
      <div class="bg-yellow-600 h-2 w-8 transform relative z-20" style="top: -45px; left: -30px; transform: rotate(80deg)"></div>
    </div>`
  }

  if (index === 3) {
    hex.innerHTML += `<div class="relative" style="top: -90px; left: -10px; transform: rotate(-50deg)">
      <p class="z-20 relative" style="left: -45px; top: -90px; transform: rotate(-45deg)">🌳</p>
      <div class="bg-yellow-600 h-2 w-8 transform relative z-20" style="top: -64px; left: 10px; transform: rotate(200deg)"></div>
      <div class="bg-yellow-600 h-2 w-8 transform relative z-20" style="top: -45px; left: -30px; transform: rotate(80deg)"></div>
    </div>`
  }
  if (index === 7 || index === 17) {
    hex.innerHTML += `<div class="relative" style="top: -70px; left: -10px; transform: rotate(-110deg)">
      <p class="z-20 relative" style="left: -45px; top: -90px; transform: rotate(-45deg)">⛵</p>
      <div class="bg-yellow-600 h-2 w-8 transform relative z-20" style="top: -64px; left: 10px; transform: rotate(200deg)"></div>
      <div class="bg-yellow-600 h-2 w-8 transform relative z-20" style="top: -45px; left: -30px; transform: rotate(80deg)"></div>
    </div>`
  }

  if (index === 12) {
    hex.innerHTML += `<div class="relative" style="top: -70px; left: -10px; transform: rotate(-110deg)">
      <p class="z-20 relative" style="left: -45px; top: -90px; transform: rotate(-45deg)">⛰️</p>
      <div class="bg-yellow-600 h-2 w-8 transform relative z-20" style="top: -64px; left: 10px; transform: rotate(200deg)"></div>
      <div class="bg-yellow-600 h-2 w-8 transform relative z-20" style="top: -45px; left: -30px; transform: rotate(80deg)"></div>
    </div>`
  }

  })
    twemoji.parse(document.body);
  </script>
</body>
</html>
