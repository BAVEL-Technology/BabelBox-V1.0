{{> nav tinyLogo=true centerText=true}}
<div class="flex flex-col w-full items-center justify-center min-h-screen">
  <div class="h-full w-11/12 md:w-3/4 lg:w-1/3 rounded-xl p-4">
    <div class="w-full flex items-center justify-between">
      <div class="">
        {{#if portalLeader}}
        <p class="text-{{game.color}} font-semibold text-xl" style="font-family: {{game.font}};">PLAY</p>
        <div onclick="startGame('{{game.url}}', {{portal.id}}, {{portal.round}})" class="cursor-pointer h-12 w-12 rounded-full bg-green-400 flex items-center justify-center text-gray-100">
          <i class="fas fa-play"></i>
        </div>
        {{/if}}
      </div>
      <div class="flex flex-col items-center">
        <p class="text-{{game.color}} font-semibold text-xl" style="font-family: {{game.font}};">ROUND</p>
        <div class="h-12 w-12 rounded-full bg-red-400 flex items-center justify-center text-red-100 font-semibold" style="font-family: {{game.font}};">
          {{portal.round}}
        </div>
      </div>
    </div>
    {{> liarliar/portal-card}}
    {{> liarliar/user-card currentUser}}
    {{#if loggedIn}}
      {{#each users}}
        {{> liarliar/user-card}}
      {{/each}}
    {{else}}
      {{> liarliar/create-user-card}}
    {{/if}}
  </div>
</div>

{{#section 'script'}}
  {{#each portal.users}}
    <script type="application/javascript">
      /*
      * Copy the code to clipboard!
      */
      window.copyCode = function () {
      let code = document.querySelector("#portal-code").innerHTML.trim()
      console.log(code)
      let elem = document.createElement("textarea");
      document.body.appendChild(elem);
      elem.value = code;
      elem.select();
      document.execCommand("copy");
      document.body.removeChild(elem);
      }
    </script>
  {{/each}}
{{/section}}
