<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Bungee+Outline&family=Nerko+One&display=swap" rel="stylesheet">
  <title>Fibbage</title>
</head>
<body>
  <div class="grid grid-cols-6 h-screen w-full m-2">
    <div class="col-span-1 flex flex-col items-center justify-center">
      <div class="bg-blue-500 rounded h-24 w-24 text-yellow-500 flex items-center justify-center font-semibold my-4">Category</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$100</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$200</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$300</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$400</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$500</div>
    </div>
    <div class="col-span-1 flex flex-col items-center justify-center">
      <div class="bg-blue-500 rounded h-24 w-24 text-yellow-500 flex items-center justify-center font-semibold my-4">Category</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$100</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$200</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$300</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$400</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$500</div>
    </div>
    <div class="col-span-1 flex flex-col items-center justify-center">
      <div class="bg-blue-500 rounded h-24 w-24 text-yellow-500 flex items-center justify-center font-semibold my-4">Category</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$100</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$200</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$300</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$400</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$500</div>
    </div>
    <div class="col-span-1 flex flex-col items-center justify-center">
      <div class="bg-blue-500 rounded h-24 w-24 text-yellow-500 flex items-center justify-center font-semibold my-4">Category</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$100</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$200</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$300</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$400</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$500</div>
    </div>
    <div class="col-span-1 flex flex-col items-center justify-center">
      <div class="bg-blue-500 rounded h-24 w-24 text-yellow-500 flex items-center justify-center font-semibold my-4">Category</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$100</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$200</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$300</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$400</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$500</div>
    </div>
    <div class="col-span-1 flex flex-col items-center justify-center">
      <div class="bg-blue-500 rounded h-24 w-24 text-yellow-500 flex items-center justify-center font-semibold my-4">Category</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$100</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$200</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$300</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$400</div>
      <div class="bg-blue-200 rounded h-24 w-24 my-4 text-yellow-500 flex items-center justify-center font-semibold">$500</div>
    </div>
  </div>
</body>
</html>

const j = schedule.scheduleJob({hour: 20, minute: 19}, async function(){
  console.log('👷 Hey! I\'m starting garbage collection!')
  console.log('⛏️     (0%)\r');
  const portalData = await Portal.findAll();
  let deleteablePortals = [];
  portalData.forEach((portal, index) => {
    let date = moment(portal.dataValues.updatedAt, 'YYYY-MM-DD HH:MM:SS').unix()
    if (date < ((Date.now() / 1000) - 86400)) {
      deleteablePortals.push(portal.dataValues.id)
    }
    let percent = Math.floor(index / portalData.length);
    let hashes = Math.floor(20 * percent)
    console.log(hashes)
    let hash = '#'
    console.log(`⛏️${hash.repeat(hashes)}     (${percent}%)\r`)
  })
});
